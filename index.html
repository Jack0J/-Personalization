<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>–§—É—Ç–±–æ–ª–∫–∞ –∏–≥—Ä–æ–≤–∞—è 2K Sport Ultra - 2K Shop</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
</head>
<body>
    <div class="product-page">
        <!-- –•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏ -->
        <div class="breadcrumbs">
            <a href="#">–ì–ª–∞–≤–Ω–∞—è</a> <span>/</span>
            <a href="#">–ö–∞—Ç–∞–ª–æ–≥</a> <span>/</span>
            <a href="#">–§—É—Ç–±–æ–ª–∫–∏ –∏–≥—Ä–æ–≤—ã–µ</a> <span>/</span>
            <span>–§—É—Ç–±–æ–ª–∫–∞ –∏–≥—Ä–æ–≤–∞—è 2K Sport Ultra</span>
        </div>

        <!-- –°–µ—Ç–∫–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ -->
        <div class="product-grid">
            <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –≥–∞–ª–µ—Ä–µ—è -->
            <div class="product-gallery">
                <div class="main-image">
                    <img src="https://via.placeholder.com/500x500/1a2a6a/ffffff?text=2K+Sport+Ultra+Blue" alt="–§—É—Ç–±–æ–ª–∫–∞ –∏–≥—Ä–æ–≤–∞—è 2K Sport Ultra —Å–∏–Ω–∏–π">
                </div>
                <div class="thumbnail-list">
                    <div class="thumbnail active">
                        <img src="https://via.placeholder.com/80x80/1a2a6a/ffffff?text=1" alt="–í–∏–¥ 1">
                    </div>
                    <div class="thumbnail">
                        <img src="https://via.placeholder.com/80x80/2a3a7a/ffffff?text=2" alt="–í–∏–¥ 2">
                    </div>
                    <div class="thumbnail">
                        <img src="https://via.placeholder.com/80x80/3a4a8a/ffffff?text=3" alt="–í–∏–¥ 3">
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞: –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="product-info">
                <h1>–§—É—Ç–±–æ–ª–∫–∞ –∏–≥—Ä–æ–≤–∞—è 2K Sport Ultra, —Å–∏–Ω–∏–π —Ü–≤–µ—Ç</h1>
                <div class="product-sku">–ê—Ä—Ç.: 120065 | –¶–≤–µ—Ç: —Å–∏–Ω–∏–π/—Ç–µ–º–Ω–æ-—Å–∏–Ω–∏–π</div>
                <div class="product-price">1 990 ‚ÇΩ</div>

                <!-- –ë–ª–æ–∫ –≤—ã–±–æ—Ä–∞ —Ä–∞–∑–º–µ—Ä–∞ -->
                <div class="size-selector">
                    <div class="size-header">
                        <span class="size-title">–ù–∞–ª–∏—á–∏–µ: –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</span>
                        <a href="#" class="size-table-link">–¢–ê–ë–õ–ò–¶–ê –†–ê–ó–ú–ï–†–û–í</a>
                    </div>
                    <div class="size-buttons">
                        <button class="size-btn">XS</button>
                        <button class="size-btn">S</button>
                        <button class="size-btn selected">M</button>
                        <button class="size-btn">L</button>
                        <button class="size-btn">XL</button>
                        <button class="size-btn">XXL</button>
                        <button class="size-btn">XXXL</button>
                    </div>
                </div>

                <!-- –û–±—ã—á–Ω–∞—è –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É" (—á–µ—Ä–Ω–∞—è) -->
                <button class="btn-add-to-cart-main" id="addToCartMainBtn">
                    –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                </button>

                <!-- –¢–µ–∫—Å—Ç –ø–µ—Ä–µ–¥ –∫–Ω–æ–ø–∫–æ–π (–æ–±–≤–µ–¥–µ–Ω —Ä–∞–º–∫–æ–π –≤–º–µ—Å—Ç–µ —Å –∫–Ω–æ–ø–∫–æ–π) -->
                <div class="panel-trigger-wrapper">
                    <div class="panel-trigger-text">
                        –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ—Ä–∑–∏–Ω—É —Ç–æ–≤–∞—Ä—ã, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ –Ω–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫—É.
                    </div>
                    <!-- –ö–ù–û–ü–ö–ê –û–¢–ö–†–´–¢–ò–Ø –ü–ê–ù–ï–õ–ò (–°–ò–ù–Ø–Ø) -->
                    <button class="btn-open-panel" id="openDrawerBtn">
                        <span>+</span> –î–æ–±–∞–≤–∏—Ç—å –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ –¥–ª—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏
                    </button>
                </div>
            </div>
        </div>

        <!-- ===== –í–´–î–í–ò–ñ–ù–ê–Ø –ü–ê–ù–ï–õ–¨ ===== -->
        <div class="drawer-overlay" id="drawerOverlay"></div>
        <div class="drawer-panel" id="drawerPanel">
            <div class="drawer-content">
                <!-- –®–∞–ø–∫–∞ -->
                <div class="drawer-header">
                    <span class="drawer-title">–ù–∞–Ω–µ—Å–µ–Ω–∏–µ –¥–ª—è —ç–∫–∏–ø–∏—Ä–æ–≤–∫–∏</span>
                    <button class="drawer-close" id="closeDrawerBtn">‚úï</button>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="drawer-scrollable">
                    
                    <!-- –ò–ù–§–û–†–ú–ê–¶–ò–û–ù–ù–´–ô –ë–õ–û–ö (–ö–û–ú–ü–ê–ö–¢–ù–´–ô) -->
                    <div class="info-block-compact">
                        <p>–í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ –Ω–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫—É –¥–ª—è –∏–≥—Ä–æ–∫–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã.</p>
                        <div class="services-compact">
                            <div class="service-item"><span class="service-number">1</span> –±–æ–ª—å—à–æ–π –Ω–æ–º–µ—Ä ‚Äî 190 ‚ÇΩ</div>
                            <div class="service-item"><span class="service-number">2</span> –º–∞–ª—ã–π –Ω–æ–º–µ—Ä ‚Äî 150 ‚ÇΩ</div>
                            <div class="service-item"><span class="service-number">3</span> –ª–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã ‚Äî 320 ‚ÇΩ</div>
                            <div class="service-item"><span class="service-number">4</span> –ª–æ–≥–æ—Ç–∏–ø —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π –±–æ–ª—å—à–æ–π ‚Äî 590 ‚ÇΩ</div>
                            <div class="service-item"><span class="service-number">5</span> —Ñ–∞–º–∏–ª–∏—è –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã ‚Äî 290 ‚ÇΩ</div>
                        </div>
                        <p class="info-note-compact">–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: —Ç–æ–≤–∞—Ä—ã —Å –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ–º –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –≤–æ–∑–≤—Ä–∞—Ç—É –∏ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã.</p>
                        <p class="info-link-compact">–ë–æ–ª—å—à–µ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ <a href="#">¬´–ù–∞–Ω–µ—Å–µ–Ω–∏–µ –∏ –≤—ã—à–∏–≤–∫–∞¬ª</a>.</p>
                    </div>

                    <!-- –ö–ù–û–ü–ö–ê "–†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–ï –ù–ê–ù–ï–°–ï–ù–ò–Ø" -->
                    <div class="section">
                        <button class="btn-location" id="showLocationBtn">
                            <i data-feather="info"></i> –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è
                        </button>
                    </div>

                    <!-- ===== –ë–õ–û–ö –¢–û–í–ê–†–û–í –í –ö–û–†–ó–ò–ù–ï (–ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ô –°–ö–†–û–õ–õ) ===== -->
                    <div class="section">
                        <div class="section-title">–¢–æ–≤–∞—Ä—ã –¥–ª—è –Ω–∞–Ω–µ—Å–µ–Ω–∏—è</div>
                        <div class="cart-items-horizontal" id="cartItemsHorizontal">
                            <!-- –¢–æ–≤–∞—Ä 1 (120050) -->
                            <div class="cart-item-horizontal selected" data-art="120050">
                                <div class="cart-item-image-small">
                                    <img src="https://private-user-images.githubusercontent.com/215157183/552179081-6bc1c1b5-1cd4-4774-aaf8-90c6dcf29afd.jpg" alt="–§—É—Ç–±–æ–ª–∫–∞">
                                </div>
                                <div class="cart-item-info-small">
                                    <div class="cart-item-name-small">–§—É—Ç–±–æ–ª–∫–∞ Classic III</div>
                                    <div class="cart-item-art-small">–ê—Ä—Ç. 120050</div>
                                </div>
                                <div class="cart-item-check-small">‚úì</div>
                            </div>
                            
                            <!-- –¢–æ–≤–∞—Ä 2 (120222) -->
                            <div class="cart-item-horizontal" data-art="120222">
                                <div class="cart-item-image-small">
                                    <img src="https://private-user-images.githubusercontent.com/215157183/552179084-930814a9-57c9-4424-ae72-97300e13c0f3.jpg" alt="–®–æ—Ä—Ç—ã">
                                </div>
                                <div class="cart-item-info-small">
                                    <div class="cart-item-name-small">–®–æ—Ä—Ç—ã Classic III</div>
                                    <div class="cart-item-art-small">–ê—Ä—Ç. 120222</div>
                                </div>
                                <div class="cart-item-check-small">‚úì</div>
                            </div>
                        </div>
                    </div>

                    <!-- –¶–≤–µ—Ç –Ω–∞–Ω–µ—Å–µ–Ω–∏—è (—É–¥–∞–ª–µ–Ω –∏–∑ –æ–±—â–µ–≥–æ –±–ª–æ–∫–∞) -->

                    <!-- –õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã -->
                    <div class="section">
                        <div class="section-title">–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã (320 ‚ÇΩ)</div>
                        <div class="file-upload-area" id="logoUploadArea">
                            <button class="btn-file" id="attachLogoBtn">
                                <span>üìé</span> –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø
                            </button>
                        </div>
                    </div>

                    <!-- –ë–æ–ª—å—à–æ–π —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π –ª–æ–≥–æ—Ç–∏–ø -->
                    <div class="section">
                        <div class="section-title">–ë–æ–ª—å—à–æ–π —Å–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π –ª–æ–≥–æ—Ç–∏–ø (590 ‚ÇΩ)</div>
                        <div class="file-upload-area" id="sponsorLogoUploadArea">
                            <button class="btn-file" id="attachSponsorLogoBtn">
                                <span>üìé</span> –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø —Å–ø–æ–Ω—Å–æ—Ä–∞
                            </button>
                        </div>
                    </div>

                    <!-- –ò–≥—Ä–æ–∫–∏ -->
                    <div class="section">
                        <div class="section-title">–ò–≥—Ä–æ–∫–∏</div>
                        <div id="playersContainer"></div>
                        
                        <!-- –°—á—ë—Ç—á–∏–∫ –∏–≥—Ä–æ–∫–æ–≤ -->
                        <div class="player-counter" id="playerCounter">
                            –ö–æ–ª-–≤–æ –∏–≥—Ä–æ–∫–æ–≤: 1
                        </div>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞ -->
                        <div class="add-player-section">
                            <button class="btn-add-player" id="addPlayerBtn">
                                <i data-feather="plus-circle"></i> –î–æ–±–∞–≤–∏—Ç—å –∏–≥—Ä–æ–∫–∞
                            </button>
                        </div>
                        
                        <!-- –ò—Ç–æ–≥–æ–≤–∞—è —Ü–µ–Ω–∞ -->
                        <div class="total-price" id="totalPrice">
                            <span>–ò—Ç–æ–≥–æ –ø–æ –≤—Å–µ–º —Ç–æ–≤–∞—Ä–∞–º:</span> <span id="totalPriceValue">0 ‚ÇΩ</span>
                        </div>
                        
                        <!-- –ö–Ω–æ–ø–∫–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É (–ß–ï–†–ù–ê–Ø) -->
                        <button class="btn-cart" id="addToCartBtn">
                            –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                        </button>
                        
                        <!-- –î–∏—Å–∫–ª–µ–π–º–µ—Ä -->
                        <div class="disclaimer">
                            * –ù–∞–∂–∏–º–∞—è ¬´–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É¬ª, –≤—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ, —á—Ç–æ —Ç–æ–≤–∞—Ä—ã —Å –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ–º –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ—Ä–∑–∏–Ω—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–Ø –ù–ê–ù–ï–°–ï–ù–ò–Ø -->
    <div class="modal-overlay" id="locationModalOverlay">
        <div class="modal-container">
            <div class="modal-header">
                <span class="modal-title">–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è</span>
                <button class="modal-close" id="closeLocationModalBtn">‚úï</button>
            </div>
            <div class="modal-content">
                <img src="https://private-user-images.githubusercontent.com/215157183/552179082-6610c666-2659-4ffd-ab9d-3a3412ebcebb.jpg" 
                     alt="–°—Ö–µ–º–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –Ω–∞–Ω–µ—Å–µ–Ω–∏—è" 
                     class="location-image">
                <p class="location-description">–°—Ö–µ–º–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –Ω–æ–º–µ—Ä–æ–≤, —Ñ–∞–º–∏–ª–∏–∏ –∏ –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –Ω–∞ —ç–∫–∏–ø–∏—Ä–æ–≤–∫–µ</p>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø –í –ö–û–†–ó–ò–ù–£ -->
    <div class="modal-overlay" id="confirmModalOverlay">
        <div class="modal-container confirm-modal">
            <div class="modal-header">
                <span class="modal-title">–¢–æ–≤–∞—Ä—ã –Ω–∞–Ω–µ—Å–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫–æ—Ä–∑–∏–Ω—É</span>
                <button class="modal-close" id="closeConfirmModalBtn">‚úï</button>
            </div>
            <div class="modal-content confirm-content">
                <p class="confirm-subtitle">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –æ–ø—Ü–∏–∏:</p>
                
                <!-- –°—é–¥–∞ –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å—Å—è —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ -->
                <div id="confirmItemsList" class="confirm-items-list"></div>
                
                <div class="confirm-total">
                    <span>–ò—Ç–æ–≥–æ, —Ç–æ–≤–∞—Ä—ã –Ω–∞–Ω–µ—Å–µ–Ω–∏—è:</span>
                    <span id="confirmTotalPrice">0 ‚ÇΩ</span>
                </div>
                
                <div class="confirm-actions">
                    <button class="btn-confirm-primary" id="goToCartBtn">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                    <button class="btn-confirm-secondary" id="continueShoppingBtn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–∫—É–ø–∫–∏</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            feather.replace();

            // ===== –≠–õ–ï–ú–ï–ù–¢–´ =====
            const overlay = document.getElementById('drawerOverlay');
            const drawer = document.getElementById('drawerPanel');
            const openBtn = document.getElementById('openDrawerBtn');
            const closeBtn = document.getElementById('closeDrawerBtn');
            const playersContainer = document.getElementById('playersContainer');
            const playerCounter = document.getElementById('playerCounter');
            const totalPriceValue = document.getElementById('totalPriceValue');
            const addPlayerBtn = document.getElementById('addPlayerBtn');
            
            // –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è
            const locationModalOverlay = document.getElementById('locationModalOverlay');
            const showLocationBtn = document.getElementById('showLocationBtn');
            const closeLocationModalBtn = document.getElementById('closeLocationModalBtn');
            
            // –≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
            const confirmModalOverlay = document.getElementById('confirmModalOverlay');
            const closeConfirmModalBtn = document.getElementById('closeConfirmModalBtn');
            const confirmItemsList = document.getElementById('confirmItemsList');
            const confirmTotalPrice = document.getElementById('confirmTotalPrice');
            const goToCartBtn = document.getElementById('goToCartBtn');
            const continueShoppingBtn = document.getElementById('continueShoppingBtn');
            
            // ===== –ù–û–í–´–ï –¶–ï–ù–´ =====
            const PRICES = {
                bigNumber: 190,
                smallNumber: 150,
                surname: 290,
                teamLogo: 320,
                sponsorLogo: 590
            };

            // ===== –°–û–°–¢–û–Ø–ù–ò–ï –î–õ–Ø –†–ê–ó–ù–´–• –ê–†–¢–ò–ö–£–õ–û–í =====
            const itemsState = {
                '120050': {
                    players: [],
                    teamLogo: false,
                    sponsorLogo: false,
                    color: 'white'
                },
                '120222': {
                    players: [],
                    teamLogo: false,
                    sponsorLogo: false,
                    color: 'white'
                }
            };

            // ===== –¢–ï–ö–£–©–ò–ô –í–´–ë–†–ê–ù–ù–´–ô –ê–†–¢–ò–ö–£–õ =====
            let currentArticle = '120050';

            // ===== –û–¢–ö–†–´–¢–ò–ï/–ó–ê–ö–†–´–¢–ò–ï –ü–ê–ù–ï–õ–ò =====
            function openDrawer() {
                overlay.classList.add('active');
                drawer.classList.add('open');
                document.body.style.overflow = 'hidden';
            }
            
            function closeDrawer() {
                overlay.classList.remove('active');
                drawer.classList.remove('open');
                document.body.style.overflow = '';
            }
            
            openBtn.addEventListener('click', openDrawer);
            closeBtn.addEventListener('click', closeDrawer);
            overlay.addEventListener('click', closeDrawer);
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && drawer.classList.contains('open')) {
                    closeDrawer();
                }
            });

            // ===== –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –†–ê–°–ü–û–õ–û–ñ–ï–ù–ò–Ø =====
            showLocationBtn.addEventListener('click', function() {
                locationModalOverlay.classList.add('active');
            });

            closeLocationModalBtn.addEventListener('click', function() {
                locationModalOverlay.classList.remove('active');
            });

            locationModalOverlay.addEventListener('click', function(e) {
                if (e.target === locationModalOverlay) {
                    locationModalOverlay.classList.remove('active');
                }
            });

            // ===== –ü–ï–†–ï–ö–õ–Æ–ß–ï–ù–ò–ï –¢–û–í–ê–†–û–í (–ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ï) =====
            const cartItemsHorizontal = document.querySelectorAll('.cart-item-horizontal');
            cartItemsHorizontal.forEach(item => {
                item.addEventListener('click', function() {
                    cartItemsHorizontal.forEach(i => i.classList.remove('selected'));
                    this.classList.add('selected');
                    currentArticle = this.dataset.art;
                    loadStateForCurrentArticle();
                });
            });

            // ===== –ó–ê–ì–†–£–ó–ö–ê –°–û–°–¢–û–Ø–ù–ò–Ø –î–õ–Ø –¢–ï–ö–£–©–ï–ì–û –ê–†–¢–ò–ö–£–õ–ê =====
            function loadStateForCurrentArticle() {
                const state = itemsState[currentArticle];
                
                // –û—á–∏—â–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–≥—Ä–æ–∫–æ–≤
                playersContainer.innerHTML = '';
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–≥—Ä–æ–∫–æ–≤
                if (state.players.length === 0) {
                    addNewPlayer(true); // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                } else {
                    state.players.forEach((player, index) => {
                        addPlayerFromState(player, index + 1);
                    });
                }
                
                // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ª–æ–≥–æ—Ç–∏–ø–æ–≤
                if (state.teamLogo) {
                    document.getElementById('logoUploadArea').innerHTML = `
                        <div class="file-attached">
                            <span style="font-size: 18px;">üìé</span>
                            <span class="file-name">team_logo.svg</span>
                            <button class="file-remove" data-logo="team">‚úï</button>
                        </div>
                    `;
                } else {
                    document.getElementById('logoUploadArea').innerHTML = `<button class="btn-file" id="attachLogoBtn"><span>üìé</span> –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø</button>`;
                }
                
                if (state.sponsorLogo) {
                    document.getElementById('sponsorLogoUploadArea').innerHTML = `
                        <div class="file-attached">
                            <span style="font-size: 18px;">üìé</span>
                            <span class="file-name">sponsor_logo.svg</span>
                            <button class="file-remove" data-logo="sponsor">‚úï</button>
                        </div>
                    `;
                } else {
                    document.getElementById('sponsorLogoUploadArea').innerHTML = `<button class="btn-file" id="attachSponsorLogoBtn"><span>üìé</span> –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø —Å–ø–æ–Ω—Å–æ—Ä–∞</button>`;
                }
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
                updatePlayerCounter();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
                setupNumberInputs();
                setupDeleteButtons();
                updateDeleteButtonsState();
                setupFileUploads();
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—â—É—é —Ü–µ–Ω—É
                updateTotalPrice();
            }

            // ===== –î–û–ë–ê–í–õ–ï–ù–ò–ï –ò–ì–†–û–ö–ê –ò–ó –°–û–°–¢–û–Ø–ù–ò–Ø =====
            function addPlayerFromState(player, playerNumber) {
                const isShorts = currentArticle === '120222';
                
                const newPlayer = document.createElement('div');
                newPlayer.className = 'player-card';
                newPlayer.innerHTML = `
                    <div class="player-header">
                        <span class="player-name">–ò–≥—Ä–æ–∫ ${playerNumber}</span>
                        <button class="player-delete ${playerNumber > 1 ? 'active' : ''}" ${playerNumber === 1 ? 'disabled' : ''}>
                            <i data-feather="trash-2"></i>
                        </button>
                    </div>
                    <div class="player-fields">
                        <div class="field-group">
                            <label class="field-label">–†–∞–∑–º–µ—Ä</label>
                            <select class="field-select" data-player="${playerNumber}">
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</option>
                                <option value="XS" ${player.size === 'XS' ? 'selected' : ''}>XS</option>
                                <option value="S" ${player.size === 'S' ? 'selected' : ''}>S</option>
                                <option value="M" ${player.size === 'M' ? 'selected' : ''}>M</option>
                                <option value="L" ${player.size === 'L' ? 'selected' : ''}>L</option>
                                <option value="XL" ${player.size === 'XL' ? 'selected' : ''}>XL</option>
                                <option value="XXL" ${player.size === 'XXL' ? 'selected' : ''}>XXL</option>
                                <option value="XXXL" ${player.size === 'XXXL' ? 'selected' : ''}>XXXL</option>
                            </select>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–¶–≤–µ—Ç –Ω–∞–Ω–µ—Å–µ–Ω–∏—è</label>
                            <select class="field-select color-select" data-player="${playerNumber}">
                                <option value="white" ${player.color === 'white' ? 'selected' : ''}>–ë–µ–ª—ã–π</option>
                                <option value="black" ${player.color === 'black' ? 'selected' : ''}>–ß—ë—Ä–Ω—ã–π</option>
                                <option value="red" ${player.color === 'red' ? 'selected' : ''}>–ö—Ä–∞—Å–Ω—ã–π</option>
                                <option value="blue" ${player.color === 'blue' ? 'selected' : ''}>–°–∏–Ω–∏–π</option>
                                <option value="yellow" ${player.color === 'yellow' ? 'selected' : ''}>–ñ—ë–ª—Ç—ã–π</option>
                                <option value="green" ${player.color === 'green' ? 'selected' : ''}>–ó–µ–ª—ë–Ω—ã–π</option>
                                <option value="orange" ${player.color === 'orange' ? 'selected' : ''}>–û—Ä–∞–Ω–∂–µ–≤—ã–π</option>
                            </select>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–§–∞–º–∏–ª–∏—è/–∫–æ–º–∞–Ω–¥–∞ (290 ‚ÇΩ)</label>
                            <input class="field-input ${isShorts ? 'disabled-field' : ''}" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é" maxlength="12" value="${player.surname || ''}" ${isShorts ? 'disabled' : ''}>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–ë–æ–ª—å—à–æ–π –Ω–æ–º–µ—Ä (190 ‚ÇΩ)</label>
                            <input class="field-input number-input ${isShorts ? 'disabled-field' : ''}" type="text" inputmode="numeric" pattern="\\d*" placeholder="0-99" value="${player.bigNumber || ''}" ${isShorts ? 'disabled' : ''}>
                            <div class="input-hint">—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã</div>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–ú–∞–ª—ã–π –Ω–æ–º–µ—Ä (150 ‚ÇΩ)</label>
                            <input class="field-input number-input" type="text" inputmode="numeric" pattern="\\d*" placeholder="0-99" value="${player.smallNumber || ''}">
                            <div class="input-hint">—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã</div>
                        </div>
                    </div>
                `;
                
                playersContainer.appendChild(newPlayer);
            }

            // ===== –°–û–•–†–ê–ù–ï–ù–ò–ï –°–û–°–¢–û–Ø–ù–ò–Ø –¢–ï–ö–£–©–ï–ì–û –ê–†–¢–ò–ö–£–õ–ê =====
            function saveCurrentState() {
                const state = itemsState[currentArticle];
                const players = [];
                
                document.querySelectorAll('.player-card').forEach(card => {
                    const sizeSelect = card.querySelector('.field-select:not(.color-select)');
                    const colorSelect = card.querySelector('.color-select');
                    const surnameInput = card.querySelector('.field-group:nth-child(3) input');
                    const bigNumberInput = card.querySelector('.field-group:nth-child(4) input');
                    const smallNumberInput = card.querySelector('.field-group:nth-child(5) input');
                    
                    players.push({
                        size: sizeSelect ? sizeSelect.value : '',
                        color: colorSelect ? colorSelect.value : 'white',
                        surname: surnameInput ? surnameInput.value : '',
                        bigNumber: bigNumberInput ? bigNumberInput.value : '',
                        smallNumber: smallNumberInput ? smallNumberInput.value : ''
                    });
                });
                
                state.players = players;
                state.teamLogo = document.querySelector('#logoUploadArea .file-attached') !== null;
                state.sponsorLogo = document.querySelector('#sponsorLogoUploadArea .file-attached') !== null;
            }

            // ===== –ù–ê–°–¢–†–û–ô–ö–ê –ó–ê–ì–†–£–ó–ö–ò –§–ê–ô–õ–û–í =====
            function setupFileUploads() {
                const attachLogoBtn = document.getElementById('attachLogoBtn');
                const logoUploadArea = document.getElementById('logoUploadArea');
                const attachSponsorLogoBtn = document.getElementById('attachSponsorLogoBtn');
                const sponsorLogoUploadArea = document.getElementById('sponsorLogoUploadArea');
                
                if (attachLogoBtn) {
                    attachLogoBtn.addEventListener('click', function() {
                        logoUploadArea.innerHTML = `
                            <div class="file-attached">
                                <span style="font-size: 18px;">üìé</span>
                                <span class="file-name">team_logo.svg</span>
                                <button class="file-remove" data-logo="team">‚úï</button>
                            </div>
                        `;
                        
                        const fileRemove = document.querySelector('.file-remove[data-logo="team"]');
                        if (fileRemove) {
                            fileRemove.addEventListener('click', function() {
                                logoUploadArea.innerHTML = `<button class="btn-file" id="attachLogoBtn"><span>üìé</span> –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø</button>`;
                                document.getElementById('attachLogoBtn').addEventListener('click', arguments.callee);
                                saveCurrentState();
                                updateTotalPrice();
                            });
                        }
                        saveCurrentState();
                        updateTotalPrice();
                    });
                }

                if (attachSponsorLogoBtn) {
                    attachSponsorLogoBtn.addEventListener('click', function() {
                        sponsorLogoUploadArea.innerHTML = `
                            <div class="file-attached">
                                <span style="font-size: 18px;">üìé</span>
                                <span class="file-name">sponsor_logo.svg</span>
                                <button class="file-remove" data-logo="sponsor">‚úï</button>
                            </div>
                        `;
                        
                        const fileRemove = document.querySelector('.file-remove[data-logo="sponsor"]');
                        if (fileRemove) {
                            fileRemove.addEventListener('click', function() {
                                sponsorLogoUploadArea.innerHTML = `<button class="btn-file" id="attachSponsorLogoBtn"><span>üìé</span> –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –ª–æ–≥–æ—Ç–∏–ø —Å–ø–æ–Ω—Å–æ—Ä–∞</button>`;
                                document.getElementById('attachSponsorLogoBtn').addEventListener('click', arguments.callee);
                                saveCurrentState();
                                updateTotalPrice();
                            });
                        }
                        saveCurrentState();
                        updateTotalPrice();
                    });
                }
            }

            // ===== –í–ê–õ–ò–î–ê–¶–ò–Ø –¶–ò–§–† =====
            function setupNumberInputs() {
                const numberInputs = document.querySelectorAll('.number-input:not(:disabled)');
                numberInputs.forEach(input => {
                    input.removeEventListener('input', handleNumberInput);
                    input.addEventListener('input', handleNumberInput);
                });
            }
            
            function handleNumberInput(e) {
                this.value = this.value.replace(/[^\d]/g, '').slice(0, 2);
                saveCurrentState();
                updateTotalPrice();
            }
            
            // ===== –£–î–ê–õ–ï–ù–ò–ï –ò–ì–†–û–ö–ê =====
            function setupDeleteButtons() {
                const deleteButtons = document.querySelectorAll('.player-delete');
                deleteButtons.forEach((btn, index) => {
                    btn.removeEventListener('click', handleDeletePlayer);
                    btn.addEventListener('click', handleDeletePlayer);
                });
            }
            
            function handleDeletePlayer(e) {
                if (!this.classList.contains('active')) return;
                
                const playerCard = this.closest('.player-card');
                if (playerCard) {
                    playerCard.remove();
                    updatePlayerNumbers();
                    updatePlayerCounter();
                    updateDeleteButtonsState();
                    saveCurrentState();
                    updateTotalPrice();
                }
            }
            
            function updatePlayerNumbers() {
                const players = document.querySelectorAll('.player-card');
                players.forEach((player, index) => {
                    const nameEl = player.querySelector('.player-name');
                    if (nameEl) {
                        nameEl.textContent = `–ò–≥—Ä–æ–∫ ${index + 1}`;
                    }
                });
            }
            
            function updatePlayerCounter() {
                const players = document.querySelectorAll('.player-card');
                playerCounter.textContent = `–ö–æ–ª-–≤–æ –∏–≥—Ä–æ–∫–æ–≤: ${players.length}`;
            }
            
            function updateDeleteButtonsState() {
                const players = document.querySelectorAll('.player-card');
                const deleteButtons = document.querySelectorAll('.player-delete');
                
                deleteButtons.forEach(btn => {
                    if (players.length <= 1) {
                        btn.classList.remove('active');
                        btn.disabled = true;
                    } else {
                        btn.classList.add('active');
                        btn.disabled = false;
                    }
                });
                
                feather.replace();
            }
            
            // ===== –î–û–ë–ê–í–õ–ï–ù–ò–ï –ò–ì–†–û–ö–ê =====
            function addNewPlayer(skipSave = false) {
                const players = document.querySelectorAll('.player-card');
                const newPlayerNumber = players.length + 1;
                const isShorts = currentArticle === '120222';
                
                const newPlayer = document.createElement('div');
                newPlayer.className = 'player-card';
                newPlayer.innerHTML = `
                    <div class="player-header">
                        <span class="player-name">–ò–≥—Ä–æ–∫ ${newPlayerNumber}</span>
                        <button class="player-delete ${newPlayerNumber > 1 ? 'active' : ''}" ${newPlayerNumber === 1 ? 'disabled' : ''}>
                            <i data-feather="trash-2"></i>
                        </button>
                    </div>
                    <div class="player-fields">
                        <div class="field-group">
                            <label class="field-label">–†–∞–∑–º–µ—Ä</label>
                            <select class="field-select">
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</option>
                                <option value="XS">XS</option>
                                <option value="S">S</option>
                                <option value="M" selected>M</option>
                                <option value="L">L</option>
                                <option value="XL">XL</option>
                                <option value="XXL">XXL</option>
                                <option value="XXXL">XXXL</option>
                            </select>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–¶–≤–µ—Ç –Ω–∞–Ω–µ—Å–µ–Ω–∏—è</label>
                            <select class="field-select color-select">
                                <option value="white" selected>–ë–µ–ª—ã–π</option>
                                <option value="black">–ß—ë—Ä–Ω—ã–π</option>
                                <option value="red">–ö—Ä–∞—Å–Ω—ã–π</option>
                                <option value="blue">–°–∏–Ω–∏–π</option>
                                <option value="yellow">–ñ—ë–ª—Ç—ã–π</option>
                                <option value="green">–ó–µ–ª—ë–Ω—ã–π</option>
                                <option value="orange">–û—Ä–∞–Ω–∂–µ–≤—ã–π</option>
                            </select>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–§–∞–º–∏–ª–∏—è/–∫–æ–º–∞–Ω–¥–∞ (290 ‚ÇΩ)</label>
                            <input class="field-input ${isShorts ? 'disabled-field' : ''}" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é" maxlength="12" value="" ${isShorts ? 'disabled' : ''}>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–ë–æ–ª—å—à–æ–π –Ω–æ–º–µ—Ä (190 ‚ÇΩ)</label>
                            <input class="field-input number-input ${isShorts ? 'disabled-field' : ''}" type="text" inputmode="numeric" pattern="\\d*" placeholder="0-99" value="" ${isShorts ? 'disabled' : ''}>
                            <div class="input-hint">—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã</div>
                        </div>
                        <div class="field-group">
                            <label class="field-label">–ú–∞–ª—ã–π –Ω–æ–º–µ—Ä (150 ‚ÇΩ)</label>
                            <input class="field-input number-input" type="text" inputmode="numeric" pattern="\\d*" placeholder="0-99" value="">
                            <div class="input-hint">—Ç–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã</div>
                        </div>
                    </div>
                `;
                
                playersContainer.appendChild(newPlayer);
                feather.replace();
                setupNumberInputs();
                setupDeleteButtons();
                updateDeleteButtonsState();
                updatePlayerCounter();
                
                if (!skipSave) {
                    saveCurrentState();
                }
                
                updateTotalPrice();
            }
            
            addPlayerBtn.addEventListener('click', () => addNewPlayer(false));
            
            // ===== –û–ë–ù–û–í–õ–ï–ù–ò–ï –¶–ï–ù–´ =====
            function updateTotalPrice() {
                let total = 0;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–∞—Å—á–µ—Ç–æ–º
                saveCurrentState();
                
                // –°—á–∏—Ç–∞–µ–º –ø–æ –≤—Å–µ–º –∞—Ä—Ç–∏–∫—É–ª–∞–º
                for (let article in itemsState) {
                    const state = itemsState[article];
                    
                    state.players.forEach(player => {
                        if (player.bigNumber && player.bigNumber.length > 0) total += PRICES.bigNumber;
                        if (player.smallNumber && player.smallNumber.length > 0) total += PRICES.smallNumber;
                        if (player.surname && player.surname.length > 0) total += PRICES.surname;
                    });
                    
                    if (state.teamLogo) total += PRICES.teamLogo;
                    if (state.sponsorLogo) total += PRICES.sponsorLogo;
                }
                
                totalPriceValue.textContent = `${total.toLocaleString()} ‚ÇΩ`;
            }
            
            // ===== –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê –° –î–ï–¢–ê–õ–ò–ó–ê–¶–ò–ï–ô =====
            function showConfirmationModal() {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º
                saveCurrentState();
                
                let html = '';
                let total = 0;
                
                // –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –≤—Å–µ –∞—Ä—Ç–∏–∫—É–ª—ã
                for (let article in itemsState) {
                    const state = itemsState[article];
                    const hasAnyServices = state.players.some(p => 
                        (p.bigNumber && p.bigNumber.length > 0) || 
                        (p.smallNumber && p.smallNumber.length > 0) || 
                        (p.surname && p.surname.length > 0)
                    ) || state.teamLogo || state.sponsorLogo;
                    
                    if (!hasAnyServices) continue;
                    
                    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–æ–≤–∞—Ä –ø–æ –∞—Ä—Ç–∏–∫—É–ª—É
                    const itemInfo = article === '120050' 
                        ? { name: '–§—É—Ç–±–æ–ª–∫–∞ –∏–≥—Ä–æ–≤–∞—è 2K Sport Classic III', price: 1190, image: 'https://private-user-images.githubusercontent.com/215157183/552179081-6bc1c1b5-1cd4-4774-aaf8-90c6dcf29afd.jpg' }
                        : { name: '–®–æ—Ä—Ç—ã –∏–≥—Ä–æ–≤—ã–µ 2K Sport Classic III', price: 990, image: 'https://private-user-images.githubusercontent.com/215157183/552179084-930814a9-57c9-4424-ae72-97300e13c0f3.jpg' };
                    
                    html += `<div class="confirm-item-group">`;
                    html += `<div class="confirm-item-header">`;
                    html += `<div class="confirm-item-image"><img src="${itemInfo.image}" alt="${itemInfo.name}"></div>`;
                    html += `<div><div class="confirm-item-title">${itemInfo.name}</div>`;
                    html += `<div class="confirm-item-art">–ê—Ä—Ç. ${article}</div></div>`;
                    html += `</div>`;
                    
                    html += `<div class="confirm-players-list">`;
                    
                    // –ò–≥—Ä–æ–∫–∏
                    state.players.forEach((player, index) => {
                        const hasPlayerServices = (player.bigNumber && player.bigNumber.length > 0) || 
                                                  (player.smallNumber && player.smallNumber.length > 0) || 
                                                  (player.surname && player.surname.length > 0);
                        
                        if (!hasPlayerServices) return;
                        
                        html += `<div class="confirm-player-item">`;
                        html += `<div class="confirm-player-name">–ò–≥—Ä–æ–∫ ${index + 1} ${player.size ? '(—Ä–∞–∑–º–µ—Ä ' + player.size + ')' : ''}</div>`;
                        html += `<div class="confirm-player-details">`;
                        
                        let playerTotal = 0;
                        
                        if (player.surname) {
                            html += `<div class="confirm-player-detail-row">
                                <span class="detail-label">–§–∞–º–∏–ª–∏—è/–∫–æ–º–∞–Ω–¥–∞:</span>
                                <span class="detail-value">${player.surname}</span>
                                <span class="detail-price">+290 ‚ÇΩ</span>
                            </div>`;
                            playerTotal += PRICES.surname;
                        }
                        if (player.bigNumber) {
                            html += `<div class="confirm-player-detail-row">
                                <span class="detail-label">–ë–æ–ª—å—à–æ–π –Ω–æ–º–µ—Ä:</span>
                                <span class="detail-value">${player.bigNumber}</span>
                                <span class="detail-price">+190 ‚ÇΩ</span>
                            </div>`;
                            playerTotal += PRICES.bigNumber;
                        }
                        if (player.smallNumber) {
                            html += `<div class="confirm-player-detail-row">
                                <span class="detail-label">–ú–∞–ª—ã–π –Ω–æ–º–µ—Ä:</span>
                                <span class="detail-value">${player.smallNumber}</span>
                                <span class="detail-price">+150 ‚ÇΩ</span>
                            </div>`;
                            playerTotal += PRICES.smallNumber;
                        }
                        
                        html += `<div class="confirm-player-total">–ò—Ç–æ–≥–æ –ø–æ –∏–≥—Ä–æ–∫—É: ${playerTotal} ‚ÇΩ</div>`;
                        html += `</div></div>`;
                        total += playerTotal;
                    });
                    
                    // –õ–æ–≥–æ—Ç–∏–ø—ã
                    if (state.teamLogo) {
                        html += `<div class="confirm-player-item" style="background: #f3e5f5;">`;
                        html += `<div class="confirm-player-details">`;
                        html += `<div class="confirm-player-detail-row">
                            <span class="detail-label">–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–∞–Ω–¥—ã:</span>
                            <span class="detail-value">team_logo.svg</span>
                            <span class="detail-price">+320 ‚ÇΩ</span>
                        </div>`;
                        html += `<div class="confirm-player-total">–ò—Ç–æ–≥–æ: 320 ‚ÇΩ</div>`;
                        html += `</div></div>`;
                        total += PRICES.teamLogo;
                    }
                    
                    if (state.sponsorLogo) {
                        html += `<div class="confirm-player-item" style="background: #f3e5f5;">`;
                        html += `<div class="confirm-player-details">`;
                        html += `<div class="confirm-player-detail-row">
                            <span class="detail-label">–°–ø–æ–Ω—Å–æ—Ä—Å–∫–∏–π –ª–æ–≥–æ—Ç–∏–ø:</span>
                            <span class="detail-value">sponsor_logo.svg</span>
                            <span class="detail-price">+590 ‚ÇΩ</span>
                        </div>`;
                        html += `<div class="confirm-player-total">–ò—Ç–æ–≥–æ: 590 ‚ÇΩ</div>`;
                        html += `</div></div>`;
                        total += PRICES.sponsorLogo;
                    }
                    
                    html += `</div></div>`;
                    html += `<div class="confirm-item-divider"></div>`;
                }
                
                if (html === '') {
                    html = '<p style="text-align: center; color: #777; padding: 20px;">–ù–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —É—Å–ª—É–≥ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è</p>';
                }
                
                confirmItemsList.innerHTML = html;
                confirmTotalPrice.textContent = `${total.toLocaleString()} ‚ÇΩ`;
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                confirmModalOverlay.classList.add('active');
            }
            
            // ===== –û–ë–†–ê–ë–û–¢–ß–ò–ö–ò –î–õ–Ø –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê –ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ò–Ø =====
            document.getElementById('addToCartBtn').addEventListener('click', function() {
                showConfirmationModal();
            });
            
            closeConfirmModalBtn.addEventListener('click', function() {
                confirmModalOverlay.classList.remove('active');
            });
            
            continueShoppingBtn.addEventListener('click', function() {
                confirmModalOverlay.classList.remove('active');
                closeDrawer(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –Ω–∞–Ω–µ—Å–µ–Ω–∏—è
            });
            
            goToCartBtn.addEventListener('click', function() {
                // –î–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã–≤–∞–µ–º –æ–∫–Ω–∞
                confirmModalOverlay.classList.remove('active');
                closeDrawer();
                alert('–ü–µ—Ä–µ—Ö–æ–¥ –≤ –∫–æ—Ä–∑–∏–Ω—É (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –±—É–¥–µ—Ç —Ä–µ–¥–∏—Ä–µ–∫—Ç)');
            });
            
            // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
            confirmModalOverlay.addEventListener('click', function(e) {
                if (e.target === confirmModalOverlay) {
                    confirmModalOverlay.classList.remove('active');
                }
            });
            
            // ===== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø =====
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            addNewPlayer(true);
            
            setupNumberInputs();
            setupDeleteButtons();
            updateDeleteButtonsState();
            setupFileUploads();
            
            document.addEventListener('input', function(e) {
                if (e.target.classList.contains('field-input') || 
                    e.target.classList.contains('field-select')) {
                    saveCurrentState();
                    updateTotalPrice();
                }
            });
            
            // –°–ª—É—à–∞—Ç–µ–ª–∏ –¥–ª—è select
            document.querySelectorAll('.field-select').forEach(select => {
                select.addEventListener('change', function() {
                    saveCurrentState();
                    updateTotalPrice();
                });
            });
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –≥–ª–∞–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏ "–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É"
            document.getElementById('addToCartMainBtn').addEventListener('click', function() {
                alert('–¢–æ–≤–∞—Ä –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ.');
            });
        });
    </script>
</body>
</html>